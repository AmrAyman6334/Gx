<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>GxBot — بوت ديسكورد متكامل</title>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">

  <!-- Font Awesome (icons) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

  <style>
    :root{
      --bg1: #071029;
      --bg2: #0b1220;
      --muted: rgba(255,255,255,0.92);
      --muted-soft: rgba(255,255,255,0.72);
      --accent: #6c7cff;
      --accent-2: #ff6fb3;
      --glass-border: rgba(255,255,255,0.06);
      --radius: 14px;
      --shadow: 0 10px 30px rgba(2,6,23,0.7);
      --glow: 0 6px 30px rgba(108,124,255,0.12);
      --gold-1: #ffd36b;
      --gold-2: #f1c40f;
      --card-bg: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.008));
    }

    /* base */
    *{box-sizing:border-box}
    html,body{height:100%}
    body {
      margin: 0;
      font-family: "Poppins", system-ui, Arial, sans-serif;
      background: radial-gradient(1200px 600px at 10% 10%, rgba(108,124,255,0.06), transparent),
                  radial-gradient(1200px 600px at 90% 90%, rgba(241,111,179,0.04), transparent),
                  linear-gradient(135deg,var(--bg1),var(--bg2));
      color: var(--muted);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      min-height: 100vh;
      overflow-y:auto;
      -webkit-overflow-scrolling: touch;
    }

    /* header */
    header {
      position: sticky;
      top: 12px;
      z-index: 80;
      margin: 16px auto;
      max-width: 1100px;
      padding: 12px 16px;
      border-radius: 12px;
      display:flex;
      gap:12px;
      align-items:center;
      justify-content:space-between;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
      border: 1px solid var(--glass-border);
      box-shadow: var(--shadow);
      backdrop-filter: blur(6px);
      transition: transform .28s ease, opacity .28s ease;
    }

    .brand { display:flex; gap:12px; align-items:center; }
    .bot-avatar { width:72px; height:72px; border-radius:50%; overflow:hidden; display:flex; align-items:center; justify-content:center;
      background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
      border: 2px solid rgba(255,255,255,0.06);
      box-shadow: 0 8px 26px rgba(0,0,0,0.5);
      flex-shrink:0;
    }
    .bot-avatar img{ width:100%; height:100%; object-fit:cover; display:block; }

    .title { display:flex; flex-direction:column; gap:2px; }
    .title h1 { margin:0; font-size:18px; color: var(--gold-1); letter-spacing:.4px; }
    .title p { margin:0; font-size:13px; color:var(--muted-soft); }

    .controls { display:flex; gap:8px; align-items:center; }

    .btn {
      background: var(--card-bg);
      border:1px solid var(--glass-border);
      padding:8px 12px;
      border-radius:10px;
      cursor:pointer;
      color:var(--muted);
      display:inline-flex;
      gap:8px;
      align-items:center;
      font-weight:600;
      text-decoration:none;
    }
    .btn.glow { box-shadow: var(--glow); color:#071029; background: linear-gradient(90deg,var(--gold-1),var(--gold-2)); }

    /* floating contact support */
    .support-fab {
      position: fixed;
      top: 18px;
      right: 18px;
      z-index: 140;
      width:56px;
      height:56px;
      border-radius:50%;
      display:flex;
      align-items:center;
      justify-content:center;
      background: linear-gradient(180deg,#ffd36b,#f1c40f);
      color:#072;
      box-shadow: 0 12px 30px rgba(0,0,0,0.45);
      cursor:pointer;
      transition: transform .18s ease;
    }
    .support-fab:hover{ transform: translateY(-4px); }

    /* hero */
    main { position: relative; z-index: 5; max-width: 1100px; margin: 18px auto 80px; padding: 18px; }
    .hero { display:flex; gap:18px; align-items:center; justify-content:space-between; flex-wrap:wrap; }
    .hero-left { flex:1; min-width:260px; }
    .hero-left h2{ margin:0; color:#fff; font-size:24px; }
    .hero-left p{ margin-top:8px; color:var(--muted-soft); line-height:1.6; }

    .cta-row { margin-top:14px; display:flex; gap:10px; flex-wrap:wrap; }

    .hero-right { width:360px; min-width:240px; }

    .botcard {
      border-radius:12px; padding:14px; border:1px solid var(--glass-border);
      background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent); box-shadow: 0 10px 30px rgba(2,6,23,0.6);
    }
    .botcard h3{ margin:0; color:var(--accent); }
    .bot-stats{ display:grid; grid-template-columns:repeat(2,1fr); gap:10px; margin-top:12px; }
    .stat { background: rgba(255,255,255,0.02); padding:10px; border-radius:8px; text-align:center; }
    .stat .label{ font-size:12px; color:var(--muted-soft); }
    .stat .value{ font-weight:800; font-size:16px; color:#fff; margin-top:6px; letter-spacing:0.4px; }

    .divider { height:1px; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.04), transparent); margin:22px 0; border-radius:4px; }

    /* features grid */
    .showcase { display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:14px; }
    .card {
      position:relative; padding:16px; border-radius:12px; border:1px solid var(--glass-border);
      background: linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.006));
      transition: transform .22s ease, box-shadow .22s ease;
      overflow:hidden;
      min-height:120px;
      display:flex; flex-direction:column; justify-content:flex-start;
    }
    .card:hover { transform: translateY(-8px); box-shadow: 0 24px 60px rgba(2,6,23,0.6); }
    .card h3 { margin:0 0 8px 0; color:var(--accent); font-size:16px; }
    .card p { margin:0; font-size:13px; color:var(--muted-soft); line-height:1.45; word-break:break-word; max-height:3.5em; overflow:hidden; }
    /* chip positioned bottom center inside card */
    .chip {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      bottom: 12px;
      padding:8px 14px;
      border-radius:999px;
      background: linear-gradient(90deg,var(--accent),var(--accent-2));
      color:#fff;
      font-weight:800;
      font-size:13px;
      box-shadow: 0 10px 30px rgba(108,124,255,0.1);
      border: 1px solid rgba(255,255,255,0.04);
    }

    /* prime section with golden raised background */
    .premium {
      margin-top:22px;
      border-radius:12px;
      padding:18px;
      border:1px solid rgba(255,215,100,0.08);
      background: linear-gradient(180deg, rgba(255,215,100,0.06), rgba(255,245,205,0.02));
      box-shadow: 0 10px 40px rgba(255,200,60,0.06);
    }
    .premium .grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:12px; margin-top:12px; align-items:center; }
    .prime-card {
      display:flex; gap:12px; align-items:center; padding:12px; border-radius:10px;
      background: linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
      border:1px solid rgba(255,200,60,0.06); color:#062226; font-weight:700;
    }
    .prime-thumb {
      width:56px; height:56px; border-radius:50%; overflow:hidden; flex-shrink:0;
      border:3px solid rgba(255,255,255,0.08);
      background: linear-gradient(90deg,#fff2cc,#fff0b0);
      display:flex; align-items:center; justify-content:center;
    }
    .prime-thumb img { width:100%; height:100%; object-fit:cover; display:block; }

    /* modal detail */
    .detail-view {
      position: fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:160;
      background: linear-gradient(180deg, rgba(2,6,23,0.6), rgba(2,6,23,0.85));
      padding:24px; overflow:auto;
    }
    .detail-card {
      width: 100%; max-width:820px; border-radius:14px; padding:22px; background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border:1px solid var(--glass-border); box-shadow: 0 26px 60px rgba(2,6,23,0.8);
    }
    .detail-card h2 { margin:0; color: #2a1a00; background: linear-gradient(90deg,var(--gold-1),var(--gold-2)); -webkit-background-clip:text; color:transparent; font-size:22px; }
    .detail-card .meta { margin-top:10px; color:var(--muted-soft); font-size:13px; }
    .detail-card .content { margin-top:14px; color:var(--muted-soft); line-height:1.7; font-size:15px; }
    .detail-card .actions { margin-top:18px; display:flex; gap:10px; flex-wrap:wrap; }

    .close-btn { float:left; border-radius:10px; padding:8px 10px; display:inline-flex; gap:8px; align-items:center; cursor:pointer; background:transparent; border:1px solid rgba(255,255,255,0.04); color:var(--muted); }

    /* footer */
    footer { margin-top:28px; padding:18px; text-align:center; color:rgba(255,255,255,0.6); font-size:13px; }

    /* small screens */
    @media (max-width:900px){
      header { flex-direction: column; align-items:flex-start; gap:12px; top:8px; margin:8px; }
      .hero-right{ width:100%; }
      .bot-avatar{ width:64px; height:64px; }
      .chip{ font-size:12px; padding:7px 12px; bottom:10px; }
      .prime-thumb{ width:48px; height:48px; }
      .detail-card{ padding:16px; }
    }

    /* helper: hide header when scrolled down */
    .header-hidden { transform: translateY(-120%); opacity:0; pointer-events:none; }

    /* small accessibility focus styles */
    .card:focus { outline: 3px solid rgba(108,124,255,0.18); outline-offset:4px; }
    a.btn:focus, button:focus { outline: 3px solid rgba(108,124,255,0.12); outline-offset:3px; }
  </style>
</head>
<body>
  <!-- floating support button (click opens contact modal/email) -->
  <button id="supportFab" class="support-fab" title="تواصل مع الدعم (ايميل)">
    <i class="fa fa-envelope"></i>
  </button>

  <main>
    <header id="pageHeader" role="banner" aria-label="header">
      <div class="brand">
        <div class="bot-avatar" aria-hidden="true">
          <img src="bot.png" alt="صورة بوت GxBot" onerror="this.style.background='linear-gradient(90deg,#6c7cff,#ff6fb3)'; this.src='';" />
        </div>
        <div class="title">
          <h1 id="titleMain">GxBot</h1>
          <p id="short-desc">بوت ديسكورد لإدارة، أمان، اقتصاد وترفيه — تجربة متكاملة ومضيئة.</p>
        </div>
      </div>

      <div style="display:flex; gap:10px; align-items:center;">
        <!-- language toggle -->
        <div style="display:flex; gap:8px; align-items:center; margin-right:6px;">
          <button id="langAR" class="btn" aria-pressed="true">AR</button>
          <button id="langEN" class="btn">EN</button>
        </div>

        <div class="controls" role="navigation" aria-label="controls">
          <a class="btn glow" id="inviteBtn" href="https://discord.com/oauth2/authorize?client_id=1411571554025865236&permissions=8&scope=bot" target="_blank" rel="noopener noreferrer">
            <i class="fa fa-plus"></i> <span id="inviteText">دعوة البوت</span>
          </a>
          <a class="btn" id="supportBtn" href="https://discord.gg/g43V2Q62KP" target="_blank" rel="noopener noreferrer">
            <i class="fa fa-comments"></i> <span id="supportText">سيرفر الدعم</span>
          </a>
        </div>
      </div>
    </header>

    <!-- HERO -->
    <section class="hero" aria-labelledby="hero-title">
      <div class="hero-left">
        <h2 id="hero-title">GxBot — إدارة، أمان، اقتصاد وترفيه في بوت واحد</h2>
        <p class="desc" id="hero-desc">
          بوت شامل يجمع إدارة السيرفر، نظام اقتصاد متكامل (Kentos)، نظام اجتماعي داخلي، حماية متقدمة، ومجموعة ترفيهية تضمن بقاء مجتمعك حيويًا ونشيطًا.
        </p>

        <div class="cta-row" role="group" aria-label="cta-buttons">
          <a id="inviteCTA" class="btn glow" href="#features" aria-controls="featuresGrid"><i class="fa fa-rocket"></i> <span id="gotoFeatures">اذهب للمميزات</span></a>
          <a id="primeCTA" class="btn" href="#prime" aria-controls="prime"><i class="fa fa-crown"></i> <span id="gotoPrime">اشترك في Prime</span></a>
        </div>

        <div style="margin-top:14px;color:var(--muted-soft);font-size:13px">
          <strong id="kentosLabel">Kentos</strong>
          <span id="kentosDesc"> — عملة البوت الداخلية لتفعيل المميزات الحصرية.</span>
        </div>
      </div>

      <aside class="hero-right" aria-label="bot-summary">
        <div class="botcard" role="region" aria-labelledby="botcard-title">
          <h3 id="botcard-title">بطاقة البوت</h3>
          <div class="bot-stats" aria-hidden="false">
            <div class="stat"><div class="label">السيرفرات</div><div class="value" id="stat-servers">—</div></div>
            <div class="stat"><div class="label">المستخدمين</div><div class="value" id="stat-users">—</div></div>
            <div class="stat"><div class="label">إجمالي Kentos</div><div class="value" id="stat-kentos">—</div></div>
            <div class="stat"><div class="label">Prime</div><div class="value" id="stat-prime">All-in-one</div></div>
          </div>
          <div style="margin-top:10px;font-size:13px;color:var(--muted-soft)">اضغط على أي ميزة لعرض شرح تفصيلي.</div>
        </div>
      </aside>
    </section>

    <div class="divider" aria-hidden="true"></div>

    <!-- FEATURES -->
    <section id="features" aria-labelledby="features-title">
      <h3 id="features-title" style="margin:0 0 8px 0;color:var(--gold-1)">أهم مميزات GxBot</h3>

      <div class="showcase" id="featuresGrid">
        <!-- Cards injected by JS -->
      </div>
    </section>

    <!-- PREMIUM -->
    <section id="prime" class="premium" aria-labelledby="prime-title">
      <h3 id="prime-title" style="margin:0;color:var(--gold-1)">GxBot Prime</h3>
      <p id="prime-desc" style="color:var(--muted-soft);margin-top:8px">مميزات حصرية بتصميم ذهبي ومضيء — تفعيل عبر Kentos أو الدفع المباشر.</p>

      <div class="grid">
        <div style="display:flex; gap:12px; align-items:center; margin-top:12px;">
          <div class="prime-thumb" aria-hidden="true">
            <img src="botprime.png" alt="GxBot Prime image (botprime.png)" onerror="this.style.background='linear-gradient(90deg,#fff2cc,#fff0b0)'; this.src='';" />
          </div>
          <div style="flex:1">
            <div style="font-weight:800; color:#3a2b00">نسخة Prime — GxBot</div>
            <div style="font-size:13px; color:var(--muted-soft); margin-top:6px">تفعيل Prime يمنحك: إعدادات حصرية، أدوات متقدمة، خلفيات ذهبية، تقارير مفصّلة وميزات متقدمة.</div>
          </div>
        </div>

        <div class="grid" style="margin-top:14px;">
          <div class="prime-card">
            <div class="prime-thumb"><img src="botprime.png" alt="prime" onerror="this.style.background='linear-gradient(90deg,#fff2cc,#fff0b0)'; this.src='';" /></div>
            <div>
              <div style="font-weight:800">حزمة برايم</div>
              <div style="font-size:13px;color:var(--muted-soft)">تخصيص ذهبي، أدوات متقدمة، أولوية دعم</div>
            </div>
          </div>

          <div class="prime-card">
            <div class="prime-thumb"><img src="botprime.png" alt="prime" onerror="this.style.background='linear-gradient(90deg,#fff2cc,#fff0b0)'; this.src='';" /></div>
            <div>
              <div style="font-weight:800">نسخة الفريق</div>
              <div style="font-size:13px;color:var(--muted-soft)">اشتراك للفرق مع صلاحيات مركبة وإدارة مركزية</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <div class="divider" aria-hidden="true"></div>

    <footer>
      <div id="footerText">© 2025 — هذا الموقع تم تصميمه بواسطة فريق GX — فريق دعم البوت.</div>
    </footer>
  </main>

  <!-- Detail overlay (single reused modal) -->
  <div id="detailView" class="detail-view" role="dialog" aria-modal="true" aria-hidden="true" tabindex="-1">
    <div class="detail-card" role="document" aria-labelledby="detailTitle">
      <button id="closeDetail" class="close-btn" aria-label="إغلاق النافذة"><i class="fa fa-times"></i> إغلاق</button>
      <div style="clear:both"></div>
      <h2 id="detailTitle"></h2>
      <div class="meta" id="detailMeta"></div>
      <div class="content" id="detailContent"></div>
      <div class="actions" id="detailActions"></div>
    </div>
  </div>

  <!-- Contact small modal (for support FAB) -->
  <div id="contactView" class="detail-view" aria-hidden="true" style="display:none;">
    <div class="detail-card" role="document" style="max-width:520px;">
      <button id="closeContact" class="close-btn" aria-label="إغلاق النافذة"><i class="fa fa-times"></i> إغلاق</button>
      <h2>تواصل مع الدعم</h2>
      <div class="meta" style="margin-top:8px;color:var(--muted-soft)">اكتب لنا رسالة أو أرسل شكاوى عبر البريد الإلكتروني:</div>
      <div class="content" style="margin-top:12px">
        <p style="margin:0 0 8px 0">البريد الإلكتروني: <strong>gxbotar7@gmail.com</strong></p>
        <p style="margin:0 0 10px 0">أرسل لنا وصف المشكلة وسنرد بأسرع ما يمكن.</p>
        <div style="display:flex; gap:8px; margin-top:12px;">
          <a id="mailLink" href="mailto:gxbotar7@gmail.com?subject=شكوى%20/٪20تواصل%20مع%20GxBot" class="btn glow">أرسل إيميل</a>
          <button id="copyMail" class="btn">نسخ الإيميل</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    /*************** Data (features + content) *****************/
    const INVITE_LINK = "https://discord.com/oauth2/authorize?client_id=1411571554025865236&permissions=8&scope=bot";
    const SUPPORT_LINK = "https://discord.gg/g43V2Q62KP";
    const SUPPORT_EMAIL = "gxbotar7@gmail.com";

    // bilingual content (Arabic default + English)
    const LOCALES = {
      ar: {
        titleMain: "GxBot",
        shortDesc: "بوت ديسكورد لإدارة، أمان، اقتصاد وترفيه — تجربة متكاملة ومضيئة.",
        inviteText: "دعوة البوت",
        supportText: "سيرفر الدعم",
        gotoFeatures: "اذهب للمميزات",
        gotoPrime: "اشترك في Prime",
        kentosLabel: "Kentos",
        kentosDesc: " — عملة البوت الداخلية لتفعيل المميزات الحصرية.",
        featuresTitle: "أهم مميزات GxBot",
        primeTitle: "GxBot Prime",
        primeDesc: "مميزات حصرية بتصميم ذهبي ومضيء — تفعيل عبر Kentos أو الدفع المباشر.",
        contactTitle: "تواصل مع الدعم",
        mailSubject: "شكوى / تواصل مع GxBot"
      },
      en: {
        titleMain: "GxBot",
        shortDesc: "All-in-one Discord bot: moderation, economy, security & fun.",
        inviteText: "Invite Bot",
        supportText: "Support Server",
        gotoFeatures: "See features",
        gotoPrime: "Join Prime",
        kentosLabel: "Kentos",
        kentosDesc: " — bot currency to enable premium features.",
        featuresTitle: "Top GxBot features",
        primeTitle: "GxBot Prime",
        primeDesc: "Exclusive golden features — activate via Kentos or direct payment.",
        contactTitle: "Contact Support",
        mailSubject: "Complaint / Contact GxBot"
      }
    };

    let currentLang = 'ar';
    function setLang(lang){
      currentLang = lang;
      const L = LOCALES[lang];
      document.getElementById("titleMain").innerText = L.titleMain;
      document.getElementById("short-desc").innerText = L.shortDesc;
      document.getElementById("inviteText").innerText = L.inviteText;
      document.getElementById("supportText").innerText = L.supportText;
      document.getElementById("gotoFeatures").innerText = L.gotoFeatures;
      document.getElementById("gotoPrime").innerText = L.gotoPrime;
      document.getElementById("kentosLabel").innerText = L.kentosLabel;
      document.getElementById("kentosDesc").innerText = L.kentosDesc;
      document.getElementById("features-title").innerText = L.featuresTitle;
      document.getElementById("prime-title").innerText = L.primeTitle;
      document.getElementById("prime-desc").innerText = L.primeDesc;

      // toggle AR/EN button states
      document.getElementById("langAR").setAttribute('aria-pressed', lang==='ar');
      document.getElementById("langEN").setAttribute('aria-pressed', lang==='en');
      // If you want to also translate features content, re-render features
      renderFeatures();
    }

    // Features — texts in both languages (kept concise)
    const FEATURES = [
      {
        id: "welcome",
        title: { ar: "ترحيب احترافي للأعضاء الجدد", en: "Professional welcomes for new members" },
        short: { ar: "رسائل ترحيب مخصصة، رول تلقائي، 3 قنوات ترحيب.", en: "Custom welcome messages, auto-role, multiple channels." },
        detail: { ar: `<h4>عند دخول عضو جديد</h4><p>GxBot يرسل رسائل ترحيب مُصمَّمة مع إعدادات مرنة لشرح السيرفر تلقائيًا.</p>`, en: `<h4>On member join</h4><p>GxBot sends tailored welcome messages and can auto-assign roles and show guides.</p>` }
      },
      {
        id: "bank",
        title: { ar: "نظام البنك (Kentos)", en: "Bank system (Kentos)" },
        short: { ar: "محفظة لكل عضو، رقم حساب فريد، إيداع، سحب.", en: "Per-user wallets, unique account numbers, deposit & withdraw." },
        detail: { ar: `<h4>نظام البنك</h4><p>محفظة داخلية مع تحويلات آمنة وميزات حفظ الأرصدة.</p>`, en: `<h4>Bank system</h4><p>Internal wallet system with secure transfers and balance protection.</p>` }
      },
      {
        id: "tickets",
        title: { ar: "نظام التيكتات المتكامل", en: "Integrated tickets system" },
        short: { ar: "فتح تيكت خاص، حفظ اللوغات، تأكيد متقدم.", en: "Private tickets, logs, advanced confirmations." },
        detail: { ar: `<h4>التيكتات</h4><p>نظام يدعم حفظ محادثات التيكت وإرسال لوغ بعد الإغلاق.</p>`, en: `<h4>Tickets</h4><p>Saves ticket conversations and forwards logs after closing.</p>` }
      },
      {
        id: "entertainment",
        title: { ar: "أنظمة ترفيهية", en: "Entertainment systems" },
        short: { ar: "عجلة GX، اقتراحات، اقتباسات.", en: "GX wheel, recommendations, quotes." },
        detail: { ar: `<h4>ترفيه</h4><p>مجموعة أوامر لتنشيف الجو وترفيه الأعضاء.</p>`, en: `<h4>Entertainment</h4><p>Commands to keep the community active and entertained.</p>` }
      },
      {
        id: "audit",
        title: { ar: "سجلات وتوثيق", en: "Audit & logs" },
        short: { ar: "توثيق الطرد، تغييرات القنوات والرتب.", en: "Document bans, channel & role changes." },
        detail: { ar: `<h4>التوثيق</h4><p>سجل كامل للأحداث الإدارية لمراجعة سريعة.</p>`, en: `<h4>Audit</h4><p>Full event logs for quick administrative review.</p>` }
      }
    ];

    /*************** Render features grid *****************/
    const featuresGrid = document.getElementById("featuresGrid");
    function renderFeatures(){
      featuresGrid.innerHTML = "";
      for(const f of FEATURES){
        const card = document.createElement("button");
        card.className = "card";
        card.type = "button";
        card.setAttribute("data-id", f.id);
        card.setAttribute("aria-haspopup","dialog");

        // build localized content
        const t = (f.title && f.title[currentLang]) || f.title;
        const s = (f.short && f.short[currentLang]) || f.short;

        card.innerHTML = `
          <h3>${t}</h3>
          <p>${s}</p>
          <span class="chip">${ currentLang === 'ar' ? 'المزيد' : 'More' }</span>
        `;

        // keep chip accessible and ensure it's inside card
        card.addEventListener("click", ()=> openFeature(f.id));
        card.addEventListener("keydown", (e)=> { if(e.key === "Enter" || e.key === " ") { e.preventDefault(); openFeature(f.id); }});

        featuresGrid.appendChild(card);
      }
    }

    /*************** Modal logic (single reused modal) *****************/
    const detailView = document.getElementById("detailView");
    const detailTitle = document.getElementById("detailTitle");
    const detailMeta = document.getElementById("detailMeta");
    const detailContent = document.getElementById("detailContent");
    const detailActions = document.getElementById("detailActions");
    const closeDetail = document.getElementById("closeDetail");

    let modalOpen = false;

    function openFeature(id){
      if(modalOpen) return;
      modalOpen = true;
      const f = FEATURES.find(x=> x.id === id);
      if(!f){ modalOpen=false; return; }

      // localized
      const t = (f.title && f.title[currentLang]) || f.title;
      const d = (f.detail && f.detail[currentLang]) || f.detail;

      detailTitle.innerHTML = t;
      detailMeta.innerHTML = `<strong>${ currentLang === 'ar' ? 'معرف' : 'ID' }:</strong> ${f.id}`;
      detailContent.innerHTML = d;

      detailActions.innerHTML = "";
      const invite = document.createElement("a");
      invite.className = "btn glow";
      invite.href = INVITE_LINK;
      invite.target = "_blank";
      invite.rel = "noopener noreferrer";
      invite.innerHTML = `<i class="fa fa-plus"></i> ${ LOCALES[currentLang].inviteText }`;
      detailActions.appendChild(invite);

      const support = document.createElement("a");
      support.className = "btn";
      support.href = SUPPORT_LINK;
      support.target = "_blank";
      support.rel = "noopener noreferrer";
      support.innerHTML = `<i class="fa fa-comments"></i> ${ LOCALES[currentLang].supportText }`;
      detailActions.appendChild(support);

      // show modal
      detailView.style.display = "flex";
      detailView.setAttribute("aria-hidden","false");
      document.body.style.overflow = "hidden";

      // small debounce
      setTimeout(()=> { modalOpen = false; }, 200);
    }

    function closeOverlay(){
      detailView.style.display = "none";
      detailView.setAttribute("aria-hidden","true");
      document.body.style.overflow = "";
    }
    closeDetail.addEventListener("click", closeOverlay);
    detailView.addEventListener("click", (e)=> { if(e.target === detailView) closeOverlay(); });
    window.addEventListener("keydown", (e)=> { if(e.key === "Escape") closeOverlay(); });

    /*************** Support FAB + contact modal logic *****************/
    const supportFab = document.getElementById("supportFab");
    const contactView = document.getElementById("contactView");
    const closeContact = document.getElementById("closeContact");
    const copyMail = document.getElementById("copyMail");
    const mailLink = document.getElementById("mailLink");

    supportFab.addEventListener("click", ()=> {
      // open contact view
      contactView.style.display = "flex";
      contactView.setAttribute("aria-hidden","false");
      document.body.style.overflow = "hidden";
      // set mail link subject localized
      const subj = encodeURIComponent(LOCALES[currentLang].mailSubject);
      mailLink.href = `mailto:${SUPPORT_EMAIL}?subject=${subj}`;
    });
    closeContact.addEventListener("click", ()=> {
      contactView.style.display = "none";
      contactView.setAttribute("aria-hidden","true");
      document.body.style.overflow = "";
    });
    contactView.addEventListener("click", (e)=> { if(e.target === contactView) { contactView.style.display='none'; contactView.setAttribute("aria-hidden","true"); document.body.style.overflow=""; } });

    copyMail.addEventListener("click", async ()=> {
      try{
        await navigator.clipboard.writeText(SUPPORT_EMAIL);
        copyMail.textContent = currentLang === 'ar' ? 'تم النسخ' : 'Copied';
        setTimeout(()=> copyMail.textContent = (currentLang === 'ar' ? 'نسخ الإيميل' : 'Copy email'), 1400);
      }catch(e){
        alert(currentLang === 'ar' ? 'فشل النسخ — انسخ يدويًا: ' + SUPPORT_EMAIL : 'Copy failed — manually copy: ' + SUPPORT_EMAIL);
      }
    });

    /*************** Header hide on scroll (UX) *****************/
    let lastScroll = window.pageYOffset || document.documentElement.scrollTop;
    const headerEl = document.getElementById("pageHeader");
    window.addEventListener("scroll", ()=>{
      const current = window.pageYOffset || document.documentElement.scrollTop;
      if(current > lastScroll && current > 60){ // scrolling down
        headerEl.classList.add('header-hidden');
      }else{
        headerEl.classList.remove('header-hidden');
      }
      lastScroll = current <= 0 ? 0 : current;
    }, { passive:true });

    /*************** small UX + stats placeholders *****************/
    document.getElementById("stat-servers").innerText = "1,450+";
    document.getElementById("stat-users").innerText = "52k+";
    document.getElementById("stat-kentos").innerText = "8.2M";

    /*************** language buttons *****************/
    document.getElementById("langAR").addEventListener("click", ()=> setLang('ar'));
    document.getElementById("langEN").addEventListener("click", ()=> setLang('en'));

    /*************** Init render *****************/
    setLang(currentLang);
    renderFeatures();

    /*************** Accessibility: trap focus lightly for modals *****************/
    document.addEventListener('focus', function(event) {
      if((detailView.style.display === 'flex' || contactView.style.display === 'flex') && !document.querySelector('.detail-card')?.contains(event.target)) {
        event.stopPropagation();
        (detailView.style.display === 'flex' ? detailView : contactView).focus();
      }
    }, true);
  </script>
</body>
</html>